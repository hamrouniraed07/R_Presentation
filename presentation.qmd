---
title: "Analyse des donn√©es de circoncision"
subtitle: "√âtude descriptive et exploratoire"
author: "Raed Mohamed Amine Hamrouni"
date: today
format:
  revealjs:
    theme: sky
    transition: slide
    slide-number: true
    preview-links: auto
    footer: "Analyse circoncision - 2025"
    incremental: false
    embed-resources: true
execute:
  echo: false
  warning: false
  message: false
---

```{r setup, include=FALSE}
library(dplyr)
library(ggplot2)
library(lubridate)
library(forcats)
library(knitr)

# Charger les donn√©es
data <- read.csv(
  "liste_circoncision_anonymisee.csv",
  sep = ",",
  dec = ".",
  stringsAsFactors = FALSE
)

# Nettoyer les donn√©es
data <- data %>%
  mutate(
    Date = dmy(Date),
    annee = year(Date),
    age_jours = as.numeric(`age.en.jours`),
    age_mois = as.numeric(`age.en.mois`),
    age_annee = as.numeric(`age.en.ann√©e`),
    operateur = `Op√©rateur`,
    contexte = Contexte,
    anesthesie = `Anesth√©sie`,
    indication = `Indication.de.la.circoncision`
  )
```

## Plan de la pr√©sentation {.smaller}

::: {.incremental}
1. **Introduction et objectifs**
2. **Vue d'ensemble des donn√©es**
3. **Caract√©ristiques de la population**
4. **√âvolution temporelle**
5. **Analyse des op√©rateurs**
6. **Contexte et anesth√©sie**
7. **Indications m√©dicales**
8. **Analyses crois√©es**
9. **Conclusions et perspectives**
:::

# Introduction {background-color="#4a90e2"}

## Contexte de l'√©tude

:::: {.columns}
::: {.column width="50%"}
### Probl√©matique
- Intervention chirurgicale courante
- Motivations diverses (m√©dicales, culturelles)
- Besoin d'analyse des pratiques

:::

::: {.column width="50%"}
### Approche
- Analyse descriptive compl√®te
- Exploration des tendances
- Identification des patterns
:::
::::

## Objectifs de l'analyse

::: {.incremental}
- üìä **D√©crire la population** : √¢ge, p√©riode d'intervention
- üë®‚Äç‚öïÔ∏è **Analyser les pratiques** : op√©rateurs, contextes, anesth√©sie
- üè• **Examiner les indications** : raisons m√©dicales et autres
- üìà **Explorer les tendances** : √©volution temporelle
- üîç **Identifier les facteurs** : relations entre variables
:::

## M√©thodologie

:::: {.columns}
::: {.column width="60%"}
### Outils et packages R

- `dplyr` : manipulation de donn√©es
- `ggplot2` : visualisations
- `lubridate` : gestion des dates
- `forcats` : variables cat√©gorielles

:::

::: {.column width="40%"}
### Approche analytique

- Statistiques descriptives
- Visualisations graphiques
- Analyses crois√©es
- Interpr√©tation contextuelle
:::
::::

# Vue d'ensemble {background-color="#16a085"}

## Aper√ßu du jeu de donn√©es

```{r}
#| echo: true
head(data, 3) %>% 
  select(1:6) %>%
  kable()
```

::: {.callout-note}
Donn√©es anonymis√©es contenant des informations sur l'√¢ge, l'op√©rateur, le contexte, l'anesth√©sie et les indications
:::

## Statistiques globales {.smaller}

:::: {.columns}
::: {.column width="50%"}
### Volume et p√©riode

```{r}
cat(paste("üìä Nombre total d'interventions:", nrow(data), "\n"))
cat(paste("üìÖ P√©riode:", min(data$annee, na.rm=TRUE), "-", max(data$annee, na.rm=TRUE), "\n"))
cat(paste("‚è±Ô∏è Dur√©e:", max(data$annee, na.rm=TRUE) - min(data$annee, na.rm=TRUE), "ans"))
```

:::

::: {.column width="50%"}
### √Çge des patients

```{r}
data %>%
  summarise(
    `M√©diane (mois)` = round(median(age_mois, na.rm = TRUE), 1),
    `Moyenne (mois)` = round(mean(age_mois, na.rm = TRUE), 1),
    `Q1 (mois)` = round(quantile(age_mois, 0.25, na.rm = TRUE), 1),
    `Q3 (mois)` = round(quantile(age_mois, 0.75, na.rm = TRUE), 1)
  ) %>%
  kable()
```
:::
::::

# Population {background-color="#e74c3c"}

## Distribution de l'√¢ge

```{r}
#| fig-width: 10
#| fig-height: 5
ggplot(data, aes(x = age_mois)) +
  geom_histogram(bins = 30, fill = "#e74c3c", color = "white", alpha = 0.8) +
  geom_vline(aes(xintercept = median(age_mois, na.rm = TRUE)), 
             color = "#2c3e50", linetype = "dashed", size = 1.2) +
  annotate("text", x = median(data$age_mois, na.rm = TRUE) + 15, 
           y = Inf, label = paste("M√©diane:", round(median(data$age_mois, na.rm = TRUE), 1), "mois"), 
           vjust = 2, color = "#2c3e50", size = 5) +
  labs(title = "Distribution de l'√¢ge au moment de l'intervention", 
       x = "√Çge (mois)", y = "Fr√©quence") +
  theme_minimal(base_size = 14)
```

## Interpr√©tation de l'√¢ge

::: {.incremental}
- üçº **Concentration pr√©coce** : majorit√© des interventions dans les premiers mois
- üìä **Distribution asym√©trique** : queue √©tendue vers les √¢ges plus avanc√©s
- üë∂ **Pratique n√©onatale** : pic observable dans la petite enfance
- üè• **Indications vari√©es** : interventions tardives pour raisons m√©dicales sp√©cifiques
:::

::: {.callout-tip}
## Point cl√©
L'√¢ge m√©dian de **`r round(median(data$age_mois, na.rm=TRUE), 1)` mois** confirme une pratique principalement p√©diatrique pr√©coce
:::

# √âvolution temporelle {background-color="#9b59b6"}

## Tendance annuelle

```{r}
#| fig-width: 11
#| fig-height: 6
cas_par_annee <- data %>%
  group_by(annee) %>%
  summarise(n = n())

ggplot(cas_par_annee, aes(x = annee, y = n)) +
  geom_line(color = "#4a90e2", linewidth = 1.5) +
  geom_point(color = "#2c5aa0", size = 3) +
  geom_text(aes(label = n), vjust = -0.6, size = 3.5) +
  geom_smooth(method = "loess", se = FALSE,
              color = "#e74c3c", linetype = "dashed") +
  scale_y_continuous(
    limits = c(0, 50),        
    breaks = seq(0, 50, 5)    
  ) +
  labs(
    title = "Tendance annuelle des circoncisions",
    x = "Ann√©e",
    y = "Nombre de cas"
  ) +
  theme_minimal(base_size = 13) +
  theme(
    panel.grid.minor = element_blank(),
    plot.title = element_text(hjust = 0.5, face = "bold")
  )
```

## Analyse de la tendance

:::: {.columns}
::: {.column width="50%"}
### Observations

- Variations inter-annuelles
- Tendance globale (courbe liss√©e)
- Pics et creux identifiables

:::

::: {.column width="50%"}
### Facteurs possibles

- Changements d√©mographiques
- √âvolution des pratiques
- Modifications organisationnelles
- Facteurs socio-culturels
:::
::::

# Op√©rateurs {background-color="#27ae60"}

## R√©partition par op√©rateur (Top 10)

```{r}
#| fig-width: 10
#| fig-height: 5
top_10_operateurs <- data %>%
  count(operateur, sort = TRUE) %>%
  head(10)

data %>%
  filter(operateur %in% top_10_operateurs$operateur) %>%
  ggplot(aes(x = fct_reorder(operateur, operateur, .fun = length))) +
  geom_bar(fill = "#27ae60", alpha = 0.8) +
  coord_flip() +
  labs(title = "Top 10 des op√©rateurs", 
       x = NULL, y = "Nombre d'interventions") +
  theme_minimal(base_size = 14) +
  theme(axis.text.y = element_text(size = 12))
```

## Concentration de l'activit√©

```{r}
concentration <- data %>%
  count(operateur, sort = TRUE) %>%
  mutate(
    pourcentage = round(100 * n / sum(n), 1),
    pourcentage_cumul = cumsum(pourcentage)
  )

top_5_pct <- concentration %>% head(5) %>% pull(pourcentage) %>% sum()
```

::: {.incremental}
- üìä **Top 5 op√©rateurs** : `r round(top_5_pct, 1)`% des interventions
- üéØ **Sp√©cialisation** : concentration chez quelques praticiens
- üí° **Exp√©rience** : importance du volume pour l'expertise
- üè• **Organisation** : r√©partition in√©gale de l'activit√©
:::

::: {.callout-important}
Principe de Pareto observ√© : une minorit√© d'op√©rateurs r√©alise la majorit√© des interventions
:::

# Contexte & Anesth√©sie {background-color="#f39c12"}

## Contexte d'intervention

```{r}
#| fig-width: 10
#| fig-height: 4.5
ggplot(data, aes(x = fct_infreq(contexte))) +
  geom_bar(fill = "#f39c12", alpha = 0.8) +
  geom_text(stat = "count", aes(label = after_stat(count)), vjust = -0.5, size = 5) +
  labs(title = "R√©partition selon le contexte", 
       x = NULL, y = "Nombre d'interventions") +
  theme_minimal(base_size = 14) +
  theme(axis.text.x = element_text(angle = 30, hjust = 1))
```

## Types d'anesth√©sie

```{r}
#| fig-width: 10
#| fig-height: 5
ggplot(data, aes(x = fct_infreq(anesthesie))) +
  geom_bar(fill = "#3498db", alpha = 0.8) +
  geom_text(stat = "count", aes(label = after_stat(count)), vjust = -0.5, size = 4.5) +
  labs(title = "Types d'anesth√©sie utilis√©s", 
       x = NULL, y = "Nombre d'interventions") +
  theme_minimal(base_size = 14) +
  theme(axis.text.x = element_text(angle = 30, hjust = 1))
```

## Consid√©rations cliniques

:::: {.columns}
::: {.column width="50%"}
### Contexte

- Hospitalier vs ambulatoire
- Impact sur le suivi
- Ressources disponibles
- Organisation des soins

:::

::: {.column width="50%"}
### Anesth√©sie

- Adaptation selon l'√¢ge
- Locale vs g√©n√©rale
- S√©curit√© du patient
- Protocoles √©tablis
:::
::::

# Indications {background-color="#e67e22"}

## Top 10 des indications

```{r}
#| fig-width: 10
#| fig-height: 5.5
top_indications <- data %>%
  count(indication, sort = TRUE) %>%
  head(10)

data %>%
  filter(indication %in% top_indications$indication) %>%
  ggplot(aes(x = fct_reorder(indication, indication, .fun = length))) +
  geom_bar(fill = "#e67e22", alpha = 0.8) +
  coord_flip() +
  labs(title = "Principales indications de circoncision", 
       x = NULL, y = "Nombre d'interventions") +
  theme_minimal(base_size = 13) +
  theme(axis.text.y = element_text(size = 11))
```

## Cat√©gories d'indications

::: {.incremental}
- üè• **M√©dicales** : phimosis, infections r√©currentes, balanite
- üïå **Culturelles/religieuses** : pratiques traditionnelles
- üõ°Ô∏è **Pr√©ventives** : hygi√®ne, pr√©vention des infections
- üë§ **Autres** : convenance personnelle, esth√©tiques
:::

::: {.callout-note}
## Diversit√©
La vari√©t√© des indications refl√®te une approche individualis√©e et multifactorielle
:::

# Analyses crois√©es {background-color="#1abc9c"}

## √Çge selon le contexte

```{r}
#| fig-width: 10
#| fig-height: 5
data %>%
  filter(!is.na(contexte) & !is.na(age_mois)) %>%
  ggplot(aes(x = contexte, y = age_mois, fill = contexte)) +
  geom_boxplot(alpha = 0.7, outlier.alpha = 0.5) +
  labs(title = "Distribution de l'√¢ge selon le contexte d'intervention", 
       x = NULL, y = "√Çge (mois)") +
  theme_minimal(base_size = 14) +
  theme(axis.text.x = element_text(angle = 30, hjust = 1),
        legend.position = "none") +
  scale_fill_brewer(palette = "Set2")
```

## Insights des analyses crois√©es

:::: {.columns}
::: {.column width="50%"}
### Observations

- Variations d'√¢ge selon contexte
- M√©dianes diff√©rentes
- Outliers identifiables
- Pratiques sp√©cifiques

:::

::: {.column width="50%"}
### Implications

- Adaptation des protocoles
- S√©lection des patients
- Organisation des parcours
- Personnalisation des soins
:::
::::

# Conclusions {background-color="#34495e"}

## Synth√®se des r√©sultats {.smaller}

:::: {.columns}
::: {.column width="50%"}
### Donn√©es globales
‚úÖ **`r nrow(data)` interventions** analys√©es  
‚úÖ P√©riode: **`r min(data$annee, na.rm=TRUE)`-`r max(data$annee, na.rm=TRUE)`**  
‚úÖ √Çge m√©dian: **`r round(median(data$age_mois, na.rm=TRUE), 1)` mois**

### Population
- Pratique p√©diatrique pr√©coce
- Distribution asym√©trique
- Variabilit√© notable
:::

::: {.column width="50%"}
### Pratiques
- Concentration chez certains op√©rateurs
- Diversit√© des contextes
- Adaptation de l'anesth√©sie
- Indications vari√©es
:::
::::


# Conclusion finale {background-color="#2c3e50"}

## Message principal

::: {.callout-tip icon=false}
## üéØ En r√©sum√©

Cette analyse r√©v√®le une **pratique bien √©tablie et organis√©e**, caract√©ris√©e par :

- Une intervention principalement **p√©diatrique pr√©coce**
- Une **expertise concentr√©e** chez des praticiens exp√©riment√©s
- Une **adaptation** aux besoins individuels (contexte, anesth√©sie, indications)
- Une base solide pour l'**am√©lioration continue** de la qualit√© des soins
:::

## Prochaines √©tapes

::: {.incremental}
1. üìä Approfondissement des analyses statistiques
2. üî¨ √âtudes analytiques sur les facteurs de risque
3. üìà D√©veloppement de mod√®les pr√©dictifs
4. ü§ù Comparaisons multicentriques
5. üìö Publication des r√©sultats
:::

## Merci de votre attention ! {.center}

::: {.callout-note icon=false}
## üìß Contact

**Raed Mohamed Amine Hamrouni**

Pour toute question ou collaboration
:::

::: {.callout-tip icon=false}
## üí° Questions ?

N'h√©sitez pas √† poser vos questions
:::

---

### üìä Fin de la pr√©sentation

*Analyse r√©alis√©e avec R, ggplot2, et Quarto*