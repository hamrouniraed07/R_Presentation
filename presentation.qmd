---
title: "Analyse des donnÃ©es de circoncision"
subtitle: "Ã‰tude descriptive et exploratoire"
author: "Raed Mohamed Amine Hamrouni"
date: today
format:
  revealjs:
    theme: sky
    transition: slide
    slide-number: true
    preview-links: auto
    footer: "Analyse circoncision - 2025"
    incremental: false
    embed-resources: true
execute:
  echo: false
  warning: false
  message: false
---

```{r setup, include=FALSE}
library(dplyr)
library(ggplot2)
library(lubridate)
library(forcats)
library(knitr)

# Charger les donnÃ©es
data <- read.csv(
  "liste_circoncision_anonymisee.csv",
  sep = ",",
  dec = ".",
  stringsAsFactors = FALSE
)

# Nettoyer les donnÃ©es
data <- data %>%
  mutate(
    Date = dmy(Date),
    annee = year(Date),
    age_jours = as.numeric(`age.en.jours`),
    age_mois = as.numeric(`age.en.mois`),
    age_annee = as.numeric(`age.en.annÃ©e`),
    operateur = `OpÃ©rateur`,
    contexte = Contexte,
    anesthesie = `AnesthÃ©sie`,
    indication = `Indication.de.la.circoncision`
  )
```

## Plan de la prÃ©sentation {.smaller}

::: {.incremental}
1. **Introduction et objectifs**
2. **Vue d'ensemble des donnÃ©es**
3. **CaractÃ©ristiques de la population**
4. **Ã‰volution temporelle**
5. **Analyse des opÃ©rateurs**
6. **Contexte et anesthÃ©sie**
7. **Indications mÃ©dicales**
8. **Analyses croisÃ©es**
9. **Conclusions et perspectives**
:::

# Introduction {background-color="#4a90e2"}

## Contexte de l'Ã©tude

:::: {.columns}
::: {.column width="50%"}
### ProblÃ©matique
- Intervention chirurgicale courante
- Motivations diverses (mÃ©dicales, culturelles)
- Besoin d'analyse des pratiques

:::

::: {.column width="50%"}
### Approche
- Analyse descriptive complÃ¨te
- Exploration des tendances
- Identification des patterns
:::
::::

## Objectifs de l'analyse

::: {.incremental}
- ğŸ“Š **DÃ©crire la population** : Ã¢ge, pÃ©riode d'intervention
- ğŸ‘¨â€âš•ï¸ **Analyser les pratiques** : opÃ©rateurs, contextes, anesthÃ©sie
- ğŸ¥ **Examiner les indications** : raisons mÃ©dicales et autres
- ğŸ“ˆ **Explorer les tendances** : Ã©volution temporelle
- ğŸ” **Identifier les facteurs** : relations entre variables
:::

## MÃ©thodologie

:::: {.columns}
::: {.column width="60%"}
### Outils et packages R

- `dplyr` : manipulation de donnÃ©es
- `ggplot2` : visualisations
- `lubridate` : gestion des dates
- `forcats` : variables catÃ©gorielles

:::

::: {.column width="40%"}
### Approche analytique

- Statistiques descriptives
- Visualisations graphiques
- Analyses croisÃ©es
- InterprÃ©tation contextuelle
:::
::::

# Vue d'ensemble {background-color="#16a085"}

## AperÃ§u du jeu de donnÃ©es

```{r}
#| echo: true
head(data, 3) %>% 
  select(1:6) %>%
  kable()
```

::: {.callout-note}
DonnÃ©es anonymisÃ©es contenant des informations sur l'Ã¢ge, l'opÃ©rateur, le contexte, l'anesthÃ©sie et les indications
:::

## Statistiques globales {.smaller}

:::: {.columns}
::: {.column width="50%"}
### Volume et pÃ©riode

```{r}
cat(paste("ğŸ“Š Nombre total d'interventions:", nrow(data), "\n"))
cat(paste("ğŸ“… PÃ©riode:", min(data$annee, na.rm=TRUE), "-", max(data$annee, na.rm=TRUE), "\n"))
cat(paste("â±ï¸ DurÃ©e:", max(data$annee, na.rm=TRUE) - min(data$annee, na.rm=TRUE), "ans"))
```

:::

::: {.column width="50%"}
### Ã‚ge des patients

```{r}
data %>%
  summarise(
    `MÃ©diane (mois)` = round(median(age_mois, na.rm = TRUE), 1),
    `Moyenne (mois)` = round(mean(age_mois, na.rm = TRUE), 1),
    `Q1 (mois)` = round(quantile(age_mois, 0.25, na.rm = TRUE), 1),
    `Q3 (mois)` = round(quantile(age_mois, 0.75, na.rm = TRUE), 1)
  ) %>%
  kable()
```
:::
::::

# Population {background-color="#e74c3c"}

## Distribution de l'Ã¢ge

```{r}
#| fig-width: 10
#| fig-height: 5
ggplot(data, aes(x = age_mois)) +
  geom_histogram(bins = 30, fill = "#e74c3c", color = "white", alpha = 0.8) +
  geom_vline(aes(xintercept = median(age_mois, na.rm = TRUE)), 
             color = "#2c3e50", linetype = "dashed", size = 1.2) +
  annotate("text", x = median(data$age_mois, na.rm = TRUE) + 15, 
           y = Inf, label = paste("MÃ©diane:", round(median(data$age_mois, na.rm = TRUE), 1), "mois"), 
           vjust = 2, color = "#2c3e50", size = 5) +
  labs(title = "Distribution de l'Ã¢ge au moment de l'intervention", 
       x = "Ã‚ge (mois)", y = "FrÃ©quence") +
  theme_minimal(base_size = 14)
```

## InterprÃ©tation de l'Ã¢ge

::: {.incremental}
- ğŸ¼ **Concentration prÃ©coce** : majoritÃ© des interventions dans les premiers mois
- ğŸ“Š **Distribution asymÃ©trique** : queue Ã©tendue vers les Ã¢ges plus avancÃ©s
- ğŸ‘¶ **Pratique nÃ©onatale** : pic observable dans la petite enfance
- ğŸ¥ **Indications variÃ©es** : interventions tardives pour raisons mÃ©dicales spÃ©cifiques
:::

::: {.callout-tip}
## Point clÃ©
L'Ã¢ge mÃ©dian de **`r round(median(data$age_mois, na.rm=TRUE), 1)` mois** confirme une pratique principalement pÃ©diatrique prÃ©coce
:::

# Ã‰volution temporelle {background-color="#9b59b6"}

## Tendance annuelle

```{r}
#| fig-width: 11
#| fig-height: 6
cas_par_annee <- data %>%
  group_by(annee) %>%
  summarise(n = n())

# Calculer les limites pour l'axe Y
max_cas <- max(cas_par_annee$n, na.rm = TRUE)
y_limit <- ceiling(max_cas / 500) * 500  # Arrondir au 500 supÃ©rieur

ggplot(cas_par_annee, aes(x = annee, y = n)) +
  geom_line(color = "#9b59b6", size = 2, alpha = 0.8) +
  geom_point(color = "#6c3483", size = 5) +
  geom_area(alpha = 0.2, fill = "#9b59b6") +
  geom_text(aes(label = n), vjust = -1, size = 4.5, fontface = "bold", color = "#2c3e50") +
  geom_smooth(method = "loess", se = TRUE, color = "#e74c3c", 
              linetype = "dashed", alpha = 0.2, size = 1) +
  scale_y_continuous(limits = c(0, y_limit),
                     breaks = seq(0, y_limit, by = ifelse(y_limit <= 100, 20, 
                                                           ifelse(y_limit <= 500, 100, 500)))) +
  labs(title = "Ã‰volution du nombre d'interventions par annÃ©e", 
       x = "AnnÃ©e", y = "Nombre de cas") +
  theme_minimal(base_size = 15) +
  theme(
    panel.grid.minor = element_blank(),
    panel.grid.major.x = element_blank(),
    plot.title = element_text(face = "bold", hjust = 0.5),
    axis.title = element_text(face = "bold"),
    panel.background = element_rect(fill = "white", color = NA)
  )
```

## Analyse de la tendance

:::: {.columns}
::: {.column width="50%"}
### Observations

- Variations inter-annuelles
- Tendance globale (courbe lissÃ©e)
- Pics et creux identifiables

:::

::: {.column width="50%"}
### Facteurs possibles

- Changements dÃ©mographiques
- Ã‰volution des pratiques
- Modifications organisationnelles
- Facteurs socio-culturels
:::
::::

# OpÃ©rateurs {background-color="#27ae60"}

## RÃ©partition par opÃ©rateur (Top 10)

```{r}
#| fig-width: 10
#| fig-height: 5
top_10_operateurs <- data %>%
  count(operateur, sort = TRUE) %>%
  head(10)

data %>%
  filter(operateur %in% top_10_operateurs$operateur) %>%
  ggplot(aes(x = fct_reorder(operateur, operateur, .fun = length))) +
  geom_bar(fill = "#27ae60", alpha = 0.8) +
  coord_flip() +
  labs(title = "Top 10 des opÃ©rateurs", 
       x = NULL, y = "Nombre d'interventions") +
  theme_minimal(base_size = 14) +
  theme(axis.text.y = element_text(size = 12))
```

## Concentration de l'activitÃ©

```{r}
concentration <- data %>%
  count(operateur, sort = TRUE) %>%
  mutate(
    pourcentage = round(100 * n / sum(n), 1),
    pourcentage_cumul = cumsum(pourcentage)
  )

top_5_pct <- concentration %>% head(5) %>% pull(pourcentage) %>% sum()
```

::: {.incremental}
- ğŸ“Š **Top 5 opÃ©rateurs** : `r round(top_5_pct, 1)`% des interventions
- ğŸ¯ **SpÃ©cialisation** : concentration chez quelques praticiens
- ğŸ’¡ **ExpÃ©rience** : importance du volume pour l'expertise
- ğŸ¥ **Organisation** : rÃ©partition inÃ©gale de l'activitÃ©
:::

::: {.callout-important}
Principe de Pareto observÃ© : une minoritÃ© d'opÃ©rateurs rÃ©alise la majoritÃ© des interventions
:::

# Contexte & AnesthÃ©sie {background-color="#f39c12"}

## Contexte d'intervention

```{r}
#| fig-width: 10
#| fig-height: 4.5
ggplot(data, aes(x = fct_infreq(contexte))) +
  geom_bar(fill = "#f39c12", alpha = 0.8) +
  geom_text(stat = "count", aes(label = after_stat(count)), vjust = -0.5, size = 5) +
  labs(title = "RÃ©partition selon le contexte", 
       x = NULL, y = "Nombre d'interventions") +
  theme_minimal(base_size = 14) +
  theme(axis.text.x = element_text(angle = 30, hjust = 1))
```

## Types d'anesthÃ©sie

```{r}
#| fig-width: 10
#| fig-height: 5
ggplot(data, aes(x = fct_infreq(anesthesie))) +
  geom_bar(fill = "#3498db", alpha = 0.8) +
  geom_text(stat = "count", aes(label = after_stat(count)), vjust = -0.5, size = 4.5) +
  labs(title = "Types d'anesthÃ©sie utilisÃ©s", 
       x = NULL, y = "Nombre d'interventions") +
  theme_minimal(base_size = 14) +
  theme(axis.text.x = element_text(angle = 30, hjust = 1))
```

## ConsidÃ©rations cliniques

:::: {.columns}
::: {.column width="50%"}
### Contexte

- Hospitalier vs ambulatoire
- Impact sur le suivi
- Ressources disponibles
- Organisation des soins

:::

::: {.column width="50%"}
### AnesthÃ©sie

- Adaptation selon l'Ã¢ge
- Locale vs gÃ©nÃ©rale
- SÃ©curitÃ© du patient
- Protocoles Ã©tablis
:::
::::

# Indications {background-color="#e67e22"}

## Top 10 des indications

```{r}
#| fig-width: 10
#| fig-height: 5.5
top_indications <- data %>%
  count(indication, sort = TRUE) %>%
  head(10)

data %>%
  filter(indication %in% top_indications$indication) %>%
  ggplot(aes(x = fct_reorder(indication, indication, .fun = length))) +
  geom_bar(fill = "#e67e22", alpha = 0.8) +
  coord_flip() +
  labs(title = "Principales indications de circoncision", 
       x = NULL, y = "Nombre d'interventions") +
  theme_minimal(base_size = 13) +
  theme(axis.text.y = element_text(size = 11))
```

## CatÃ©gories d'indications

::: {.incremental}
- ğŸ¥ **MÃ©dicales** : phimosis, infections rÃ©currentes, balanite
- ğŸ•Œ **Culturelles/religieuses** : pratiques traditionnelles
- ğŸ›¡ï¸ **PrÃ©ventives** : hygiÃ¨ne, prÃ©vention des infections
- ğŸ‘¤ **Autres** : convenance personnelle, esthÃ©tiques
:::

::: {.callout-note}
## DiversitÃ©
La variÃ©tÃ© des indications reflÃ¨te une approche individualisÃ©e et multifactorielle
:::

# Analyses croisÃ©es {background-color="#1abc9c"}

## Ã‚ge selon le contexte

```{r}
#| fig-width: 10
#| fig-height: 5
data %>%
  filter(!is.na(contexte) & !is.na(age_mois)) %>%
  ggplot(aes(x = contexte, y = age_mois, fill = contexte)) +
  geom_boxplot(alpha = 0.7, outlier.alpha = 0.5) +
  labs(title = "Distribution de l'Ã¢ge selon le contexte d'intervention", 
       x = NULL, y = "Ã‚ge (mois)") +
  theme_minimal(base_size = 14) +
  theme(axis.text.x = element_text(angle = 30, hjust = 1),
        legend.position = "none") +
  scale_fill_brewer(palette = "Set2")
```

## Insights des analyses croisÃ©es

:::: {.columns}
::: {.column width="50%"}
### Observations

- Variations d'Ã¢ge selon contexte
- MÃ©dianes diffÃ©rentes
- Outliers identifiables
- Pratiques spÃ©cifiques

:::

::: {.column width="50%"}
### Implications

- Adaptation des protocoles
- SÃ©lection des patients
- Organisation des parcours
- Personnalisation des soins
:::
::::

# Conclusions {background-color="#34495e"}

## SynthÃ¨se des rÃ©sultats {.smaller}

:::: {.columns}
::: {.column width="50%"}
### DonnÃ©es globales
âœ… **`r nrow(data)` interventions** analysÃ©es  
âœ… PÃ©riode: **`r min(data$annee, na.rm=TRUE)`-`r max(data$annee, na.rm=TRUE)`**  
âœ… Ã‚ge mÃ©dian: **`r round(median(data$age_mois, na.rm=TRUE), 1)` mois**

### Population
- Pratique pÃ©diatrique prÃ©coce
- Distribution asymÃ©trique
- VariabilitÃ© notable
:::

::: {.column width="50%"}
### Pratiques
- Concentration chez certains opÃ©rateurs
- DiversitÃ© des contextes
- Adaptation de l'anesthÃ©sie
- Indications variÃ©es
:::
::::

## Points clÃ©s

::: {.incremental}
1. ğŸ¯ **SpÃ©cialisation** : expertise concentrÃ©e chez quelques praticiens
2. ğŸ“Š **Timing optimal** : majoritÃ© des interventions prÃ©coces
3. ğŸ¥ **Organisation** : adaptation du contexte aux besoins
4. ğŸ’Š **Protocoles** : anesthÃ©sie ajustÃ©e selon l'Ã¢ge
5. ğŸ“ˆ **Tendances** : stabilitÃ© relative avec variations annuelles
:::

## Limites de l'Ã©tude

::: {.callout-warning}
### Ã€ considÃ©rer

- Nature descriptive uniquement
- DonnÃ©es manquantes possibles
- Absence de suivi post-opÃ©ratoire
- GÃ©nÃ©ralisation limitÃ©e au contexte local
:::

## Perspectives futures {.smaller}

:::: {.columns}
::: {.column width="50%"}
### Analyses avancÃ©es

- ğŸ¤– **ModÃ©lisation prÃ©dictive**
- ğŸ“Š **Analyse des complications**
- ğŸ”„ **SÃ©ries temporelles**
- ğŸ“ˆ **Benchmarking**

:::

::: {.column width="50%"}
### AmÃ©liorations

- ğŸ“ **Standardisation** des donnÃ©es
- ğŸ¥ **Suivi post-opÃ©ratoire**
- ğŸ“‹ **Documentation** complÃ¨te
- ğŸ‘¥ **Satisfaction** patients
:::
::::

## Recommandations pratiques

::: {.incremental}
- ğŸ“š **Formation continue** : maintien de l'expertise
- ğŸ“Š **Audit rÃ©gulier** : amÃ©lioration de la qualitÃ©
- ğŸ¤ **Collaboration** : partage des bonnes pratiques
- ğŸ’» **Digitalisation** : collecte systÃ©matique des donnÃ©es
- ğŸ¯ **Protocoles** : harmonisation des pratiques
:::

## Impact et valorisation

:::: {.columns}
::: {.column width="50%"}
### Pour les cliniciens

- Guide des pratiques
- RÃ©fÃ©rentiel d'activitÃ©
- Base pour l'amÃ©lioration
- Support de formation

:::

::: {.column width="50%"}
### Pour la santÃ© publique

- Planification des ressources
- Ã‰valuation de l'offre
- Politique de santÃ©
- Recherche clinique
:::
::::

# Conclusion finale {background-color="#2c3e50"}

## Message principal

::: {.callout-tip icon=false}
## ğŸ¯ En rÃ©sumÃ©

Cette analyse rÃ©vÃ¨le une **pratique bien Ã©tablie et organisÃ©e**, caractÃ©risÃ©e par :

- Une intervention principalement **pÃ©diatrique prÃ©coce**
- Une **expertise concentrÃ©e** chez des praticiens expÃ©rimentÃ©s
- Une **adaptation** aux besoins individuels (contexte, anesthÃ©sie, indications)
- Une base solide pour l'**amÃ©lioration continue** de la qualitÃ© des soins
:::

## Prochaines Ã©tapes

::: {.incremental}
1. ğŸ“Š Approfondissement des analyses statistiques
2. ğŸ”¬ Ã‰tudes analytiques sur les facteurs de risque
3. ğŸ“ˆ DÃ©veloppement de modÃ¨les prÃ©dictifs
4. ğŸ¤ Comparaisons multicentriques
5. ğŸ“š Publication des rÃ©sultats
:::

## Merci de votre attention ! {.center}

::: {.callout-note icon=false}
## ğŸ“§ Contact

**Raed Mohamed Amine Hamrouni**

Pour toute question ou collaboration
:::

::: {.callout-tip icon=false}
## ğŸ’¡ Questions ?

N'hÃ©sitez pas Ã  poser vos questions
:::

---

### ğŸ“Š Fin de la prÃ©sentation

*Analyse rÃ©alisÃ©e avec R, ggplot2, et Quarto*